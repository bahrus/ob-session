!function(){const e="disabled";const t="session-storage-item-set",s="session-storage-item-removed",n=window;n.__obSessionCache||(n.__obSessionCache={});const i=window.sessionStorage.getItem.bind(window.sessionStorage);window.sessionStorage.getItem=function(e){const t=i(e);if(null===t)return null;if(n.__obSessionCache[e])return n.__obSessionCache;const s=t[0],o=t[t.length-1];return"["===s&&"]"===o||"{"===s&&"}"===o?(n.__obSessionCache[e]=JSON.parse(t),n.__obSessionCache[e]):t};const o=window.sessionStorage.setItem,a=o.bind(window.sessionStorage);window.sessionStorage.setItem=function(e,s){const i=sessionStorage.getItem(e);switch(typeof s){case"string":a(e,s);break;case"object":n.__obSessionCache[e]=s,a(e,JSON.stringify(s));break;default:throw"Not Implemented"}const o=new CustomEvent(t,{detail:{key:e,oldValue:i,newValue:s},bubbles:!0,composed:!0});window.dispatchEvent(o)};const r=window.sessionStorage.removeItem.bind(window.sessionStorage);window.sessionStorage.removeItem=function(e){const t=sessionStorage.getItem(e);r(e),delete n.__obSessionCache[e];const i=new CustomEvent(s,{detail:{key:e,oldValue:t,newValue:null}});window.dispatchEvent(i)};const d="key";class l extends(function(t){return class extends t{constructor(){super(...arguments),this._evCount={}}static get observedAttributes(){return[e]}get disabled(){return this._disabled}set disabled(t){this.attr(e,t,"")}attr(e,t,s){this[(t?"set":"remove")+"Attribute"](e,s||t)}to$(e){const t=e%2;return(e-t)/2+"-"+t}incAttr(e){const t=this._evCount;e in t?t[e]++:t[e]=0,this.attr("data-"+e,this.to$(t[e]))}attributeChangedCallback(t,s,n){switch(t){case e:this._disabled=null!==n}}de(e,t,s=!1){const n=e+(s?"":"-changed"),i=new CustomEvent(n,{detail:t,bubbles:!0,composed:!1});return this.dispatchEvent(i),this.incAttr(n),i}_upgradeProperties(e){e.forEach(e=>{if(this.hasOwnProperty(e)){let t=this[e];delete this[e],this[e]=t}})}}}(HTMLElement)){constructor(){super(...arguments),this._key=null,this._c=!1}static get observedAttributes(){return super.observedAttributes.concat([d])}attributeChangedCallback(e,t,s){switch(super.attributeChangedCallback(e,t,s),e){case d:this["_"+e]=s}this.onPropsChange()}get key(){return this._key}set key(e){this.attr(d,e)}connectedCallback(){this.style.display="none",this._upgradeProperties([e,d]),this._c=!0,this.onPropsChange()}}!function(e){let t=e.is;customElements.get(t)?console.warn("Already registered "+t):customElements.define(t,e)}(class extends l{static get is(){return"ob-session-watch"}onPropsChange(){if(!this.disabled&&this._c&&(this._boundSetHandler||(this._boundSetHandler=this.handleItemChangeEvent.bind(this),window.addEventListener(t,this._boundSetHandler)),this._boundRemoveHandler||(this._boundRemoveHandler=this.handleItemChangeEvent.bind(this),window.addEventListener(s,this._boundRemoveHandler)),null!==this._key)){const e=sessionStorage.getItem(this._key);null!==e&&(this.value=e)}}handleItemChangeEvent(e){const t=e.detail;null===this._key?this.value=t:this._key===t.key&&(this.value=t.newValue)}disconnectedCallback(){this._boundSetHandler&&window.removeEventListener(t,this._boundSetHandler),this._boundRemoveHandler&&window.removeEventListener(s,this._boundRemoveHandler)}get value(){return this._value}set value(e){this._value;const t=null===this._key?{value:e.newValue,key:e.key}:{value:e,key:this._key};this._value=t,this.de("value",t)}})}();