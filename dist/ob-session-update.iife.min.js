!function(){const e="disabled";const t=window;t.__obSessionCache||(t.__obSessionCache={});const s=window.sessionStorage.getItem.bind(window.sessionStorage);window.sessionStorage.getItem=function(e){const n=s(e);if(null===n)return null;if(t.__obSessionCache[e])return t.__obSessionCache;const i=n[0],o=n[n.length-1];return"["===i&&"]"===o||"{"===i&&"}"===o?(t.__obSessionCache[e]=JSON.parse(n),t.__obSessionCache[e]):n};const n=window.sessionStorage.setItem,i=n.bind(window.sessionStorage);window.sessionStorage.setItem=function(e,s){const n=sessionStorage.getItem(e);switch(typeof s){case"string":i(e,s);break;case"object":t.__obSessionCache[e]=s,i(e,JSON.stringify(s));break;default:throw"Not Implemented"}const o=new CustomEvent("session-storage-item-set",{detail:{key:e,oldValue:n,newValue:s},bubbles:!0,composed:!0});window.dispatchEvent(o)};const o=window.sessionStorage.removeItem.bind(window.sessionStorage);window.sessionStorage.removeItem=function(e){const s=sessionStorage.getItem(e);o(e),delete t.__obSessionCache[e];const n=new CustomEvent("session-storage-item-removed",{detail:{key:e,oldValue:s,newValue:null}});window.dispatchEvent(n)};const a="key";class r extends(function(t){return class extends t{constructor(){super(...arguments),this._evCount={}}static get observedAttributes(){return[e]}get disabled(){return this._disabled}set disabled(t){this.attr(e,t,"")}attr(e,t,s){this[(t?"set":"remove")+"Attribute"](e,s||t)}to$(e){const t=e%2;return(e-t)/2+"-"+t}incAttr(e){const t=this._evCount;e in t?t[e]++:t[e]=0,this.attr("data-"+e,this.to$(t[e]))}attributeChangedCallback(t,s,n){switch(t){case e:this._disabled=null!==n}}de(e,t,s=!1){const n=e+(s?"":"-changed"),i=new CustomEvent(n,{detail:t,bubbles:!0,composed:!1});return this.dispatchEvent(i),this.incAttr(n),i}_upgradeProperties(e){e.forEach(e=>{if(this.hasOwnProperty(e)){let t=this[e];delete this[e],this[e]=t}})}}}(HTMLElement)){constructor(){super(...arguments),this._key=null,this._c=!1}static get observedAttributes(){return super.observedAttributes.concat([a])}attributeChangedCallback(e,t,s){switch(super.attributeChangedCallback(e,t,s),e){case a:this["_"+e]=s}this.onPropsChange()}get key(){return this._key}set key(e){this.attr(a,e)}connectedCallback(){this.style.display="none",this._upgradeProperties([e,a]),this._c=!0,this.onPropsChange()}}const c="value",l="is-json";!function(e){let t=e.is;customElements.get(t)?console.warn("Already registered "+t):customElements.define(t,e)}(class extends r{constructor(){super(...arguments),this._val=null,this._isJSON=!1}static get is(){return"ob-session-update"}static get observedAttributes(){return super.observedAttributes.concat([c,l])}attributeChangedCallback(e,t,s){switch(e){case c:this._val=s;break;case l:this._isJSON=null!==s}super.attributeChangedCallback(e,t,s)}connectedCallback(){this._upgradeProperties([c,"isJSON"]),super.connectedCallback()}get value(){return this._val}set value(e){this._val=e,this.onPropsChange()}get isJSON(){return this._isJSON}set isJSON(e){this.attr(l,e,"")}onPropsChange(){var e,s;!this._disabled&&this._c&&null!==this._key&&null!==this._val&&(this._isJSON?(e=this._key,s=this._val,t.__obSessionCache[e]=JSON.parse(s),n(e,s)):sessionStorage.setItem(this._key,this._val))}})}();