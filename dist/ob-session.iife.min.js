!function(){function e(e){let t=e.is;customElements.get(t)?console.warn("Already registered "+t):customElements.define(t,e)}const t="disabled";const s="session-storage-item-set",n="session-storage-item-removed",i=window;i.__obSessionCache||(i.__obSessionCache={});const o=window.sessionStorage.getItem.bind(window.sessionStorage);window.sessionStorage.getItem=function(e){const t=o(e);if(null===t)return null;if(i.__obSessionCache[e])return i.__obSessionCache;const s=t[0],n=t[t.length-1];return"["===s&&"]"===n||"{"===s&&"}"===n?(i.__obSessionCache[e]=JSON.parse(t),i.__obSessionCache[e]):t};const a=window.sessionStorage.setItem.bind(window.sessionStorage);window.sessionStorage.setItem=function(e,t){const n=sessionStorage.getItem(e);switch(typeof t){case"string":a(e,t);break;case"object":i.__obSessionCache[e]=t,a(e,JSON.stringify(t));break;default:throw"Not Implemented"}const o=new CustomEvent(s,{detail:{key:e,oldValue:n,newValue:t},bubbles:!0,composed:!0});window.dispatchEvent(o)};const r=window.sessionStorage.removeItem.bind(window.sessionStorage);window.sessionStorage.removeItem=function(e){const t=sessionStorage.getItem(e);r(e),delete i.__obSessionCache[e];const s=new CustomEvent(n,{detail:{key:e,oldValue:t,newValue:null}});window.dispatchEvent(s)};const l="key";class d extends(function(e){return class extends e{constructor(){super(...arguments),this._evCount={}}static get observedAttributes(){return[t]}get disabled(){return this._disabled}set disabled(e){this.attr(t,e,"")}attr(e,t,s){this[(t?"set":"remove")+"Attribute"](e,s||t)}to$(e){const t=e%2;return(e-t)/2+"-"+t}incAttr(e){const t=this._evCount;e in t?t[e]++:t[e]=0,this.attr("data-"+e,this.to$(t[e]))}attributeChangedCallback(e,s,n){switch(e){case t:this._disabled=null!==n}}de(e,t,s=!1){const n=e+(s?"":"-changed"),i=new CustomEvent(n,{detail:t,bubbles:!0,composed:!1});return this.dispatchEvent(i),this.incAttr(n),i}_upgradeProperties(e){e.forEach(e=>{if(this.hasOwnProperty(e)){let t=this[e];delete this[e],this[e]=t}})}}}(HTMLElement)){constructor(){super(...arguments),this._key=null,this._c=!1}static get observedAttributes(){return super.observedAttributes.concat([l])}attributeChangedCallback(e,t,s){switch(super.attributeChangedCallback(e,t,s),e){case l:this["_"+e]=s}this.onPropsChange()}get key(){return this._key}set key(e){this.attr(l,e)}connectedCallback(){this.style.display="none",this._upgradeProperties([t,l]),this._c=!0,this.onPropsChange()}}const h="value";e(class extends d{constructor(){super(...arguments),this._val=null}static get is(){return"ob-session-update"}static get observedAttributes(){return super.observedAttributes.concat([h])}attributeChangedCallback(e,t,s){switch(e){case h:this._val=s}super.attributeChangedCallback(e,t,s)}connectedCallback(){this._upgradeProperties([h]),super.connectedCallback()}get value(){return this._val}set value(e){this._val=e,this.onPropsChange()}onPropsChange(){!this._disabled&&this._c&&null!==this._key&&null!==this._val&&sessionStorage.setItem(this._key,this._val)}});e(class extends d{static get is(){return"ob-session-watch"}onPropsChange(){if(!this.disabled&&this._c&&(this._boundSetHandler||(this._boundSetHandler=this.handleItemChangeEvent.bind(this),window.addEventListener(s,this._boundSetHandler)),this._boundRemoveHandler||(this._boundRemoveHandler=this.handleItemChangeEvent.bind(this),window.addEventListener(n,this._boundRemoveHandler)),null!==this._key)){const e=sessionStorage.getItem(this._key);null!==e&&(this.value=e)}}handleItemChangeEvent(e){const t=e.detail;null===this._key?this.value=t:this._key===t.key&&(this.value=t.newValue)}disconnectedCallback(){this._boundSetHandler&&window.removeEventListener(s,this._boundSetHandler),this._boundRemoveHandler&&window.removeEventListener(n,this._boundRemoveHandler)}get value(){return this._value}set value(e){this._value;const t=null===this._key?{value:e.newValue,key:e.key}:{value:e,key:this._key};this._value=t,this.de("value",t)}})}();